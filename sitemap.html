<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sustainify</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="Sitemap-Styles.css" />
    <link rel="icon" type="image/x-icon" href="/images/logo.png" />
  </head>
  <body>
    <header>
      <div class="logo-container">
        <a href="home.html"
          ><img class="logo" src="images/logo.svg" alt="logo"
        /></a>
        <p class="brand-name"><a href="home.html">SUSTAINIFY</a></p>
      </div>
      <nav>
        <ul class="navlinks">
          <li><a href="home.html">Home</a></li>
          <li><a href="splash.html">Splash</a></li>
          <li><a class="active" href="sitemap.html">Sitemap</a></li>
          <li><a href="table.html">Table</a></li>
          <li><a href="profile.html">User Profile</a></li>
          <li><a href="volunteer.html">Volunteer</a></li>
          <li><a href="feedback.html">Feedback</a></li>
          <li><a href="team.html">Team</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="wrapper">
        <svg width = 100vw height = 100vh>
          <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
            </marker>
          </defs>

          <g class="boxes">
            <g class="node" id="home" tabindex="0" data-link="home.html" data-x="45%" data-y="10%">
              <rect x="44.5%" y="7%" width="10%" height="7%"/>
              <text x="49.5%" y="10.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Home</text>
            </g>

            <g class="student_1">
              <g class="node" id="splash_screen" tabindex="0" data-link="splash.html" data-x="8%" data-y="30%">
                  <rect x="7%" y="30%" width="10%" height="7%"/>
                  <text x="12%" y="33.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Splash Screen</text>
              </g>

              <g class="node" id="volunteer" tabindex="0" data-link="volunteer.html" data-x="8%" data-y="45%">
                  <rect x="7%" y="45%" width="10%" height="7%"/>
                  <text x="12%" y="48.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Volunteer</text>
              </g>

              <g class="node" id="st1_page_editor" tabindex="0" data-link="pageEditor _ST1.html" data-x="8%" data-y="60%">
                  <rect x="7%" y="60%" width="10%" height="7%"/>
                  <text x="12%" y="63.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Page Editor</text>
              </g>

              <g class="node" id="st1_content_page" tabindex="0" data-link="content_ST1.html" data-x="8%" data-y="75%">
                  <rect x="7%" y="75%" width="10%" height="7%"/>
                  <text x="12%" y="78.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Content Page</text>
              </g>
            </g>

            <g class="student_2">
              <g class="node" id="table" tabindex="0" data-link="table.html" data-x="33%" data-y="30%">
                  <rect x="32%" y="30%" width="10%" height="7%"/>
                  <text x="37%" y="33.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Table</text>
              </g>

              <g class="node" id="st2_page_editor" tabindex="0" data-link="pageEditor _ST2.html" data-x="33%" data-y="45%">
                  <rect x="32%" y="45%" width="10%" height="7%"/>
                  <text x="37%" y="48.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Page Editor</text>
              </g>

              <g class="node" id="st2_content_page" tabindex="0" data-link="content_ST2.html" data-x="33%" data-y="60%">
                  <rect x="32%" y="60%" width="10%" height="7%"/>
                  <text x="37%" y="63.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Content Page</text>
              </g>
            </g>

            <g class="student_3">
              <g class="node" id="feedback" tabindex="0" data-link="feedback.html" data-x="58%" data-y="30%">
                  <rect x="57%" y="30%" width="10%" height="7%"/>
                  <text x="62%" y="33.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Feedback</text>
              </g>

              <g class="node" id="team" tabindex="0" data-link="team.html" data-x="58%" data-y="45%">
                  <rect x="57%" y="45%" width="10%" height="7%"/>
                  <text x="62%" y="48.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Team</text>
              </g>

              <g class="node" id="st3_page_editor" tabindex="0" data-link="pageEditor _ST3.html" data-x="58%" data-y="60%">
                  <rect x="57%" y="60%" width="10%" height="7%"/>
                  <text x="62%" y="63.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Page Editor</text>
              </g>

              <g class="node" id="st3_content_page" tabindex="0" data-link="content_ST3.html" data-x="58%" data-y="75%">
                  <rect x="57%" y="75%" width="10%" height="7%"/>
                  <text x="62%" y="78.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Content Page</text>
              </g>
            </g>

            <g class="student_4">
              <g class="node" id="user_profile" tabindex="0" data-link="profile.html" data-x="83%" data-y="30%">
                  <rect x="82%" y="30%" width="10%" height="7%"/>
                  <text x="87%" y="33.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">User Profile</text>
              </g>

              <g class="node" id="site_map" tabindex="0" data-link="sitemap.html" data-x="83%" data-y="45%">
                  <rect x="82%" y="45%" width="10%" height="7%"/>
                  <text x="87%" y="48.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Sitemap</text>
              </g>

              <g class="node" id="st4_page_editor" tabindex="0" data-link="pageEditor _ST4.html" data-x="83%" data-y="60%">
                  <rect x="82%" y="60%" width="10%" height="7%"/>
                  <text x="87%" y="63.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Page Editor</text>
              </g>

              <g class="node" id="st4_content_page" tabindex="0" data-link="content_ST4.html" data-x="83%" data-y="75%">
                  <rect x="82%" y="75%" width="10%" height="7%"/>
                  <text x="87%" y="78.5%" font-size="1.25vw" text-anchor="middle" dominant-baseline="middle">Content Page</text>
              </g>
            </g>

          </g>

          <g class="lines">
            <line x1="49.5%" y1="14%" x2="49.5%" y2="20%"/>
            <line x1="11.65%" y1="20%" x2="86.7%" y2="20%"/>

            <line x1="11.7%" y1="20%" x2="11.7%" y2="29.5%" marker-end="url(#arrowhead)"/>
            <line x1="11.7%" y1="37%" x2="11.7%" y2="44.5%" marker-end="url(#arrowhead)"/>
            <line x1="11.7%" y1="52%" x2="11.7%" y2="59.5%" marker-end="url(#arrowhead)"/>
            <line x1="11.7%" y1="67%" x2="11.7%" y2="74.5%" marker-end="url(#arrowhead)"/>

            <line x1="36.7%" y1="20%" x2="36.7%" y2="29.5%" marker-end="url(#arrowhead)"/>
            <line x1="36.7%" y1="37%" x2="36.7%" y2="44.5%" marker-end="url(#arrowhead)"/>
            <line x1="36.7%" y1="52%" x2="36.7%" y2="59.5%" marker-end="url(#arrowhead)"/>
        
            <line x1="61.7%" y1="20%" x2="61.7%" y2="29.5%" marker-end="url(#arrowhead)"/>
            <line x1="61.7%" y1="37%" x2="61.7%" y2="44.5%" marker-end="url(#arrowhead)"/>
            <line x1="61.7%" y1="52%" x2="61.7%" y2="59.5%" marker-end="url(#arrowhead)"/>
            <line x1="61.7%" y1="67%" x2="61.7%" y2="74.5%" marker-end="url(#arrowhead)"/>

            <line x1="86.7%" y1="19.9%" x2="86.7%" y2="29.5%" marker-end="url(#arrowhead)"/>
            <line x1="86.7%" y1="37%" x2="86.7%" y2="44.5%" marker-end="url(#arrowhead)"/>
            <line x1="86.7%" y1="52%" x2="86.7%" y2="59.5%" marker-end="url(#arrowhead)"/>
            <line x1="86.7%" y1="67%" x2="86.7%" y2="74.5%" marker-end="url(#arrowhead)"/>

          </g>

        </svg>
      </div>

      <script>
        document.addEventListener("keydown", function(event) {
            let focusableElements = Array.from(document.querySelectorAll(".node"));
            let currentElement = document.activeElement.classList.contains("node") ? document.activeElement : null;
            let nextElement = null;

            if (!currentElement) {
                focusableElements[0].classList.add("active");
                focusableElements[0].focus();
                return;
            }

            if (event.key === "Enter") {
                let link = currentElement.getAttribute("data-link");
                if (link) window.location.href = link; // Open link on Enter
                return;
            }

            let currentX = parseInt(currentElement.getAttribute("data-x"));
            let currentY = parseInt(currentElement.getAttribute("data-y"));

            let closestDistance = Infinity;

            focusableElements.forEach(el => {
                if (el === currentElement) return;

                let elX = parseInt(el.getAttribute("data-x"));
                let elY = parseInt(el.getAttribute("data-y"));
                let distance = Infinity;

                switch (event.key) {
                    case "ArrowRight":
                        if (elX > currentX) { // Find nearest element to the right
                            distance = elX - currentX + Math.abs(elY - currentY) * 0.5;
                        }
                        break;
                    case "ArrowLeft":
                        if (elX < currentX) { // Find nearest element to the left
                            distance = currentX - elX + Math.abs(elY - currentY) * 0.5;
                        }
                        break;
                    case "ArrowDown":
                        if (elY > currentY) { // Instead of requiring the same X, find the closest Y below
                            distance = elY - currentY + Math.abs(elX - currentX) * 0.5; // Prioritize lower Y, but allow some X movement
                        }
                        break;
                    case "ArrowUp":
                        if (elY < currentY) {
                            distance = currentY - elY + Math.abs(elX - currentX) * 0.5;
                        }
                        break;
                }

                if (distance < closestDistance) {
                    closestDistance = distance;
                    nextElement = el;
                }
            });

            if (nextElement) {
                focusableElements.forEach(el => el.classList.remove("active"));
                nextElement.classList.add("active");
                nextElement.focus();
            }
        });

        // Attach click event to each sitemap element
        document.querySelectorAll(".node").forEach(el => {
            el.addEventListener("click", function() {
                let link = this.getAttribute("data-link");
                if (link) window.location.href = link;
            });
        });
      </script>
      
    </main>
    <p class="top">
      <a href="#top">Go to top</a>
    </p>
  </main>
    <footer>
      <a href="#top" class="backtotop">Back to Top</a>
      <div class="footer-container">
        <div class="footer-section about">
          <h3 class="footerlogo">
            <img class="logo" src="images/logo.png" alt="logo" />SUSTAINIFY
          </h3>
          <p>
            SUSTAINIFY promotes sustainable urban development through renewable
            energy, green infrastructure, and smart planning to create cleaner,
            healthier, and more resilient communities.
          </p>
        </div>

        <div class="footer-section links">
          <h4>Links</h4>
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="splash.html">Splash</a></li>
            <li><a href="volunteer.html">Volunteer</a></li>
            <li><a href="table.html">Initiatives</a></li>
            <li><a href="feedback.html">Feedback</a></li>
            <li><a href="sitemap.html">Sitemap</a></li>
            <li><a href="team.html">Team</a></li>
          </ul>
        </div>

        <div class="footer-section editors">
          <h4>Editors</h4>
          <ul>
            <li><a href="#">Thinura</a></li>
            <li><a href="#">Chameen</a></li>
            <li><a href="#">Akila</a></li>
            <li><a href="#">Chathila</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Copyright &copy; 2025 SUSTAINIFY. All Rights Reserved.</p>
      </div>
    </footer>
  </body>
