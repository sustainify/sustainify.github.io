<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sustainify</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="Sitemap-Styles.css" />
    <link rel="icon" type="image/x-icon" href="/images/logo.png" />
  </head>
  <body>
    <header>
      <div class="logo-container">
        <a href="home.html"
          ><img class="logo" src="images/logo.svg" alt="logo"
        /></a>
        <p class="brand-name"><a href="home.html">SUSTAINIFY</a></p>
      </div>
      <nav>
        <ul class="navlinks">
          <li><a href="home.html">Home</a></li>
          <li><a href="splash.html">Splash</a></li>
          <li><a class="active" href="sitemap.html">Sitemap</a></li>
          <li><a href="table.html">Table</a></li>
          <li><a href="profile.html">User Profile</a></li>
          <li><a href="volunteer.html">Volunteer</a></li>
          <li><a href="feedback.html">Feedback</a></li>
          <li><a href="team.html">Team</a></li>
        </ul>
      </nav>
    </header>
    <main>
      <div class="wrapper">
        <svg width = 1500px height = 1200px>
          <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
            </marker>
          </defs>

          <g class="boxes">
            <g class="node" id="home" tabindex="0" data-link="home.html" data-x="665px" data-y="85px">
              <rect x="665px" y="85px" width="150px" height="80px"/>
              <text x="740px" y="125px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Home</text>
            </g>

            <g class="node" id="splash_screen" tabindex="0" data-link="splash.html" data-x="35px" data-y="360px">
              <rect x="35px" y="360px" width="150px" height="80px"/>
              <text x="110px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Splash Screen</text>
            </g>

            <g class="node" id="site_map" tabindex="0" data-link="sitemap.html" data-x="215px" data-y="360px">
              <rect x="215px" y="360px" width="150px" height="80px"/>
              <text x="290px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Sitemap</text>
            </g>

            <g class="node" id="table" tabindex="0" data-link="table.html" data-x="397px" data-y="360px">
              <rect x="397px" y="360px" width="150px" height="80px"/>
              <text x="475px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Table</text>
            </g>

            <g class="node" id="user_profile" tabindex="0" data-link="profile.html" data-x="585px" data-y="360px">
              <rect x="585px" y="360px" width="150px" height="80px"/>
              <text x="660px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">User Profile</text>
            </g>

            <g class="node" id="volunteer" tabindex="0" data-link="volunteer.html" data-x="770px" data-y="360px">
              <rect x="770px" y="360px" width="150px" height="80px"/>
              <text x="850px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Volunteer</text>
            </g>

            <g class="node" id="feedback" tabindex="0" data-link="feedback.html" data-x="957px" data-y="360px">
              <rect x="957px" y="360px" width="150px" height="80px"/>
              <text x="1040px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Feedback</text>
            </g>

            <g class="node" id="team" tabindex="0" data-link="team.html" data-x="1140px" data-y="360px">
              <rect x="1140px" y="360px" width="150px" height="80px"/>
              <text x="1215px" y="400px" font-size="20px" text-anchor="middle" dominant-baseline="middle">Team</text>
            </g>

            <g class="node" id="st4_content_page" tabindex="0" data-link="content_ST4.html" data-x="1320px" data-y="360px">
              <rect x="1320px" y="360px" width="150px" height="80px"/>
              <text x="1395px" y="390px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1395px" dy="0px">Renewable</tspan>
                <tspan x="1395px" dy="20px">Energy</tspan>
              </text>
            </g>

            <g class="node" id="st1_page_editor" tabindex="0" data-link="pageEditor _ST1.html" data-x="770px" data-y="540px">
              <rect x="770px" y="540px" width="150px" height="80px"/>
              <text x="849px" y="570px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="849px" dy="0px">Student 1</tspan>
                <tspan x="849px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st2_page_editor" tabindex="0" data-link="pageEditor _ST2.html" data-x="397px" data-y="540px">
              <rect x="397px" y="540px" width="150px" height="80px"/>
              <text x="475px" y="572px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="475px" dy="0px">Student 2</tspan>
                <tspan x="475px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st4_page_editor" tabindex="0" data-link="pageEditor _ST4.html" data-x="585px" data-y="540px">
              <rect x="585px" y="540px" width="150px" height="80px"/>
              <text x="660px" y="570px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="660px" dy="0px">Student 4</tspan>
                <tspan x="660px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st4_page_editor" tabindex="0" data-link="pageEditor _ST4.html" data-x="215px" data-y="540px">
              <rect x="215px" y="540px" width="150px" height="80px"/>
              <text x="290px" y="570px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="290px" dy="0px">Student 4</tspan>
                <tspan x="290px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st3_page_editor" tabindex="0" data-link="pageEditor _ST3.html" data-x="957px" data-y="540px">
              <rect x="957px" y="540px" width="150px" height="80px"/>
              <text x="1040px" y="570px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1040px" dy="0px">Student 3</tspan>
                <tspan x="1040px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st3_page_editor" tabindex="0" data-link="pageEditor _ST3.html" data-x="1140px" data-y="540px">
              <rect x="1140px" y="540px" width="150px" height="80px"/>
              <text x="1215px" y="570px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1215px" dy="0px">Student 3</tspan>
                <tspan x="1215px" dy="20px">Page Editor</tspan>
              </text>
            </g>

            <g class="node" id="st1_content_page" tabindex="0" data-link="content_ST1.html" data-x="1320px" data-y="540px">
              <rect x="1320px" y="540px" width="150px" height="80px"/>
              <text x="1395px" y="572px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1395px" dy="0px">Green</tspan>
                <tspan x="1395px" dy="20px">Infra Structure</tspan>
              </text>
            </g>

            <g class="node" id="st3_content_page" tabindex="0" data-link="content_ST3.html" data-x="1320px" data-y="720px">
              <rect x="1320px" y="720px" width="150px" height="80px"/>
              <text x="1395px" y="750px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1395px" dy="0px">Smart</tspan>
                <tspan x="1395px" dy="20px">Planning</tspan>
              </text>
            </g>

            <g class="node" id="st2_content_page" tabindex="0" data-link="content_ST2.html" data-x="1320px" data-y="900px">
              <rect x="1320px" y="900px" width="150px" height="80px"/>
              <text x="1395px" y="930px" font-size="20px" text-anchor="middle" dominant-baseline="middle">
                <tspan x="1395px" dy="0px">Community</tspan>
                <tspan x="1395px" dy="20px">Resilience</tspan>
              </text>
            </g>

          </g>

          <g class="lines">
            <line x1="740px" y1="165px" x2="740px" y2="260px"/>
            <line x1="109px" y1="260px" x2="1396px" y2="260px"/>

            <line x1="110px" y1="260px" x2="110px" y2="360px" marker-end="url(#arrowhead)"/>
            
            <line x1="290px" y1="260px" x2="290px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="290px" y1="440px" x2="290px" y2="540px" marker-end="url(#arrowhead)"/>

            <line x1="470px" y1="260px" x2="470px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="470px" y1="440px" x2="470px" y2="540px" marker-end="url(#arrowhead)"/>
        
            <line x1="660px" y1="260px" x2="660px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="660px" y1="440px" x2="660px" y2="540px" marker-end="url(#arrowhead)"/>  

            <line x1="845px" y1="260px" x2="845px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="845px" y1="440px" x2="845px" y2="540px" marker-end="url(#arrowhead)"/>
            
            <line x1="1030px" y1="260px" x2="1030px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="1030px" y1="440px" x2="1030px" y2="540px" marker-end="url(#arrowhead)"/>

            <line x1="1215px" y1="260px" x2="1215px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="1215px" y1="440px" x2="1215px" y2="540px" marker-end="url(#arrowhead)"/>
            
            <line x1="1395px" y1="260px" x2="1395px" y2="360px" marker-end="url(#arrowhead)"/>
            <line x1="1395px" y1="440px" x2="1395px" y2="540px" marker-end="url(#arrowhead)"/>
            <line x1="1395px" y1="620px" x2="1395px" y2="720px" marker-end="url(#arrowhead)"/>
            <line x1="1395px" y1="800px" x2="1395px" y2="900px" marker-end="url(#arrowhead)"/> 
            
          </g>

        </svg>
      </div>

      <script>
        document.addEventListener("keydown", function(event) {
            let focusableElements = Array.from(document.querySelectorAll(".node"));
            let currentElement = document.activeElement.classList.contains("node") ? document.activeElement : null;
            let nextElement = null;

            if (!currentElement) {
                focusableElements[0].classList.add("active");
                focusableElements[0].focus();
                return;
            }

            if (event.key === "Enter") {
                let link = currentElement.getAttribute("data-link");
                if (link) window.location.href = link; // Open link on Enter
                return;
            }

            let currentX = parseInt(currentElement.getAttribute("data-x"));
            let currentY = parseInt(currentElement.getAttribute("data-y"));

            let closestDistance = Infinity;

            focusableElements.forEach(el => {
                if (el === currentElement) return;

                let elX = parseInt(el.getAttribute("data-x"));
                let elY = parseInt(el.getAttribute("data-y"));
                let distance = Infinity;

                switch (event.key) {
                    case "ArrowRight":
                        if (elX > currentX) { // Find nearest element to the right
                            distance = elX - currentX + Math.abs(elY - currentY) * 0.5;
                        }
                        break;
                    case "ArrowLeft":
                        if (elX < currentX) { // Find nearest element to the left
                            distance = currentX - elX + Math.abs(elY - currentY) * 0.5;
                        }
                        break;
                    case "ArrowDown":
                        if (elY > currentY) { // Instead of requiring the same X, find the closest Y below
                            distance = elY - currentY + Math.abs(elX - currentX) * 0.5; // Prioritize lower Y, but allow some X movement
                        }
                        break;
                    case "ArrowUp":
                        if (elY < currentY) {
                            distance = currentY - elY + Math.abs(elX - currentX) * 0.5;
                        }
                        break;
                }

                if (distance < closestDistance) {
                    closestDistance = distance;
                    nextElement = el;
                }
            });

            if (nextElement) {
                focusableElements.forEach(el => el.classList.remove("active"));
                nextElement.classList.add("active");
                nextElement.focus();
            }
        });

        // Attach click event to each sitemap element
        document.querySelectorAll(".node").forEach(el => {
            el.addEventListener("click", function() {
                let link = this.getAttribute("data-link");
                if (link) window.location.href = link;
            });
        });
      </script>
      
    </main>
    <p class="top">
      <a href="#top">Go to top</a>
    </p>
  </main>
    <footer>
      <a href="#top" class="backtotop">Back to Top</a>
      <div class="footer-container">
        <div class="footer-section about">
          <h3 class="footerlogo">
            <img class="logo" src="images/logo.png" alt="logo" />SUSTAINIFY
          </h3>
          <p>
            SUSTAINIFY promotes sustainable urban development through renewable
            energy, green infrastructure, and smart planning to create cleaner,
            healthier, and more resilient communities.
          </p>
        </div>

        <div class="footer-section links">
          <h4>Links</h4>
          <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="splash.html">Splash</a></li>
            <li><a href="volunteer.html">Volunteer</a></li>
            <li><a href="table.html">Initiatives</a></li>
            <li><a href="feedback.html">Feedback</a></li>
            <li><a href="sitemap.html">Sitemap</a></li>
            <li><a href="team.html">Team</a></li>
          </ul>
        </div>

        <div class="footer-section editors">
          <h4>Editors</h4>
          <ul>
            <li><a href="#">Thinura</a></li>
            <li><a href="#">Chameen</a></li>
            <li><a href="#">Akila</a></li>
            <li><a href="#">Chathila</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Copyright &copy; 2025 SUSTAINIFY. All Rights Reserved.</p>
      </div>
    </footer>
  </body>
